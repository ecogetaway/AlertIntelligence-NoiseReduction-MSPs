<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keep Integration Prototype - MSP Alert Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .keep-badge { background: linear-gradient(45deg, #4f46e5, #7c3aed); }
        .msp-badge { background: linear-gradient(45deg, #059669, #0d9488); }
        .ai-badge { background: linear-gradient(45deg, #dc2626, #ea580c); }
        .prototype-card { transition: all 0.3s ease; }
        .prototype-card:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .feature-highlight { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); }
        .code-block { background: #1e293b; color: #e2e8f0; padding: 1rem; border-radius: 0.5rem; font-family: 'Monaco', 'Menlo', monospace; }
        .success-badge { background: linear-gradient(45deg, #10b981, #059669); }
        .prototype-step { border-left: 4px solid #3b82f6; padding-left: 1rem; margin: 1rem 0; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold">Keep Integration Prototype</h1>
                    <p class="text-blue-100 mt-2">MSP Alert Intelligence Platform</p>
                </div>
                <div class="flex space-x-4">
                    <span class="keep-badge text-white px-4 py-2 rounded-full text-sm font-medium">
                        ðŸ’Ž Keep Foundation
                    </span>
                    <span class="msp-badge text-white px-4 py-2 rounded-full text-sm font-medium">
                        ðŸŽ¯ MSP Enhanced
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Prototype Overview -->
    <section class="py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">
                    Keep Integration Showcase
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Showcasing how our MSP Alert Intelligence platform integrates with Keep's open-source foundation 
                    while delivering 80% noise reduction and AI-powered correlation.
                </p>
            </div>

            <!-- Keep Integration Features -->
            <div class="bg-white rounded-xl p-8 shadow-lg border border-gray-200 mb-16">
                <h3 class="text-2xl font-bold text-gray-900 mb-6 text-center">Keep Integration Features</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Webhook Endpoint -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="webhook" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">Webhook Endpoint</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Accepts Keep's standard webhook format</p>
                        <div class="code-block text-sm">
                            <div class="text-green-400">POST /api/v1/ingest/keep</div>
                            <div class="text-gray-400">Content-Type: application/json</div>
                            <div class="text-blue-400">X-Keep-Signature: sha256=...</div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… Keep Format Compatible</span>
                            </div>
                        </div>
                    </div>

                    <!-- HMAC Security -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="shield-check" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">HMAC Security</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Signature verification for webhook integrity</p>
                        <div class="code-block text-sm">
                            <div class="text-yellow-400"># HMAC Signature Verification</div>
                            <div class="text-gray-400">signature = hmac.new(</div>
                            <div class="text-blue-400">    secret.encode('utf-8'),</div>
                            <div class="text-blue-400">    raw_body, hashlib.sha256</div>
                            <div class="text-gray-400">).hexdigest()</div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… Secure Webhook Processing</span>
                            </div>
                        </div>
                    </div>

                    <!-- Database Schema -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="database" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">Database Schema</h4>
                        </div>
                        <p class="text-gray-600 mb-4">PostgreSQL with Keep-compatible structure</p>
                        <div class="code-block text-sm">
                            <div class="text-blue-400">CREATE TABLE alerts (</div>
                            <div class="text-gray-400">    id UUID PRIMARY KEY,</div>
                            <div class="text-gray-400">    title VARCHAR(255),</div>
                            <div class="text-gray-400">    severity VARCHAR(50),</div>
                            <div class="text-gray-400">    source VARCHAR(100),</div>
                            <div class="text-gray-400">    tenant_id UUID</div>
                            <div class="text-blue-400">);</div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… Keep Schema Compatible</span>
                            </div>
                        </div>
                    </div>

                    <!-- YAML Workflows -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="workflow" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">YAML Workflows</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Support for Keep's workflow format</p>
                        <div class="code-block text-sm">
                            <div class="text-yellow-400">workflow:</div>
                            <div class="text-blue-400">  id: msp-alert-processing</div>
                            <div class="text-blue-400">  triggers:</div>
                            <div class="text-gray-400">    - type: alert</div>
                            <div class="text-blue-400">  actions:</div>
                            <div class="text-gray-400">    - name: noise-reduction</div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… Keep YAML Format</span>
                            </div>
                        </div>
                    </div>

                    <!-- Multi-tenancy -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="users" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">Multi-tenancy</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Tenant isolation and management</p>
                        <div class="space-y-2">
                            <div class="flex items-center text-sm">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Client A: alerts isolated</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Client B: separate data</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>MSP: unified dashboard</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… Tenant Isolation</span>
                            </div>
                        </div>
                    </div>

                    <!-- Provider Framework -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="success-badge text-white p-3 rounded-lg">
                                <i data-lucide="plug" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">Provider Framework</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Extensible integration system</p>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="flex items-center">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Prometheus</span>
                            </div>
                            <div class="flex items-center">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Datadog</span>
                            </div>
                            <div class="flex items-center">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>PagerDuty</span>
                            </div>
                            <div class="flex items-center">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>100+ More</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center text-green-800">
                                <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                                <span class="font-medium">âœ… 100+ Providers</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MSP Enhancements -->
            <div class="bg-white rounded-xl p-8 shadow-lg border border-gray-200 mb-16">
                <h3 class="text-2xl font-bold text-gray-900 mb-6 text-center">MSP Enhancements</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Noise Reduction -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="msp-badge text-white p-3 rounded-lg">
                                <i data-lucide="filter" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">80% Noise Reduction</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Intelligent filtering algorithms</p>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                                <span class="text-sm">Before: 1000 alerts</span>
                                <span class="text-red-600 font-bold">1000</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-green-50 rounded">
                                <span class="text-sm">After: 200 alerts</span>
                                <span class="text-green-600 font-bold">200</span>
                            </div>
                            <div class="text-center">
                                <span class="text-2xl font-bold text-green-600">80% Reduction</span>
                            </div>
                        </div>
                    </div>

                    <!-- AI Correlation -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="ai-badge text-white p-3 rounded-lg">
                                <i data-lucide="brain" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">AI Correlation</h4>
                        </div>
                        <p class="text-gray-600 mb-4">AWS Bedrock AI for alert correlation</p>
                        <div class="space-y-2">
                            <div class="flex items-center text-sm">
                                <i data-lucide="zap" class="w-4 h-4 text-blue-500 mr-2"></i>
                                <span>Alert Grouping: 85% accuracy</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="target" class="w-4 h-4 text-blue-500 mr-2"></i>
                                <span>Incident Detection: 90% precision</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="trending-up" class="w-4 h-4 text-blue-500 mr-2"></i>
                                <span>Root Cause Analysis: 78% success</span>
                            </div>
                        </div>
                    </div>

                    <!-- SLA Management -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="msp-badge text-white p-3 rounded-lg">
                                <i data-lucide="clock" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">SLA Management</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Client-specific routing and response times</p>
                        <div class="space-y-2">
                            <div class="flex justify-between items-center p-2 bg-blue-50 rounded">
                                <span class="text-sm">Critical: 15 min</span>
                                <span class="text-blue-600 font-bold">15m</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-yellow-50 rounded">
                                <span class="text-sm">High: 60 min</span>
                                <span class="text-yellow-600 font-bold">60m</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-green-50 rounded">
                                <span class="text-sm">Medium: 240 min</span>
                                <span class="text-green-600 font-bold">240m</span>
                            </div>
                        </div>
                    </div>

                    <!-- Real-time Dashboard -->
                    <div class="prototype-card bg-white rounded-lg p-6 border border-gray-200">
                        <div class="flex items-center mb-4">
                            <div class="ai-badge text-white p-3 rounded-lg">
                                <i data-lucide="monitor" class="w-6 h-6"></i>
                            </div>
                            <h4 class="text-xl font-semibold ml-4">Real-time Dashboard</h4>
                        </div>
                        <p class="text-gray-600 mb-4">Live alert processing and monitoring</p>
                        <div class="space-y-2">
                            <div class="flex items-center text-sm">
                                <i data-lucide="activity" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Live Updates: < 2 seconds</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="users" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Multi-client View</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <i data-lucide="bar-chart" class="w-4 h-4 text-green-500 mr-2"></i>
                                <span>Performance Metrics</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Prototype Section -->
            <div class="bg-white rounded-xl p-8 shadow-lg border border-gray-200 mb-16">
                <h3 class="text-2xl font-bold text-gray-900 mb-6 text-center">Live Prototype Features</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Keep Integration Points</h4>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>Webhook Endpoint:</strong> <code class="bg-gray-100 px-2 py-1 rounded text-sm">/api/v1/ingest/keep</code>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>HMAC Security:</strong> Signature verification for webhook integrity
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>Database Schema:</strong> PostgreSQL with Keep-compatible structure
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>YAML Workflows:</strong> Support for Keep's workflow format
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">MSP Enhancements</h4>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>Noise Reduction:</strong> 80% alert reduction through intelligent filtering
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>AI Correlation:</strong> AWS Bedrock AI for alert correlation and triage
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>SLA Management:</strong> Client-specific routing and response times
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3 mt-0.5"></i>
                                <div>
                                    <strong>Real-time Dashboard:</strong> Live alert processing and monitoring
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Prototype Links -->
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-8 border border-blue-200">
                <h3 class="text-2xl font-bold text-gray-900 mb-6 text-center">Prototype Access</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg p-6 shadow-md">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">Main Dashboard</h4>
                        <p class="text-gray-600 mb-4">Full MSP Alert Intelligence platform with Keep integration</p>
                        <a href="/frontend-demo.html" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            <i data-lucide="external-link" class="w-4 h-4 mr-2"></i>
                            Open Dashboard
                        </a>
                    </div>
                    <div class="bg-white rounded-lg p-6 shadow-md">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">Keep Integration Test</h4>
                        <p class="text-gray-600 mb-4">Test Keep webhook integration and MSP enhancements</p>
                        <button onclick="testKeepIntegration()" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                            <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                            Test Integration
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-xl font-bold mb-2">MSP Alert Intelligence Platform</h3>
                <p class="text-gray-400">Built on Keep's open-source foundation with MSP-specific enhancements</p>
                <div class="mt-4 flex justify-center space-x-6">
                    <a href="https://github.com/keephq/keep" class="text-gray-400 hover:text-white transition-colors">
                        <i data-lucide="github" class="w-5 h-5"></i>
                    </a>
                    <a href="https://docs.keephq.dev" class="text-gray-400 hover:text-white transition-colors">
                        <i data-lucide="book-open" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Test Keep Integration (Simulated)
        async function testKeepIntegration() {
            const button = event.target;
            const originalText = button.innerHTML;
            
            button.innerHTML = '<i data-lucide="loader-2" class="w-4 h-4 mr-2 animate-spin"></i>Testing...';
            lucide.createIcons();
            
            // Simulate Keep webhook test
            setTimeout(() => {
                button.innerHTML = '<i data-lucide="check" class="w-4 h-4 mr-2"></i>Success!';
                button.className = 'inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg transition-colors';
                
                // Show success message
                showNotification('Keep Integration Test Successful!', 'Webhook endpoint is working correctly.', 'success');
                
                lucide.createIcons();
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.className = 'inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors';
                    lucide.createIcons();
                }, 3000);
            }, 2000);
        }

        // Show notification
        function showNotification(title, message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-100 border border-green-200' : 'bg-red-100 border border-red-200'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i data-lucide="${type === 'success' ? 'check-circle' : 'x-circle'}" class="w-5 h-5 mr-2 ${
                        type === 'success' ? 'text-green-600' : 'text-red-600'
                    }"></i>
                    <div>
                        <div class="font-medium ${type === 'success' ? 'text-green-800' : 'text-red-800'}">${title}</div>
                        <div class="text-sm ${type === 'success' ? 'text-green-600' : 'text-red-600'}">${message}</div>
                    </div>
                </div>
            `;
            document.body.appendChild(notification);
            lucide.createIcons();
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }
    </script>
</body>
</html>
